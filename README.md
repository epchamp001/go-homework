# Список команд для теста:

Файл для импорта
data/import_demo.json

```json
[
  { "order_id": "ORD200", "user_id": "U999", "expires_at": "2025-07-15" },
  { "order_id": "ORD201", "user_id": "U999", "expires_at": "2025-07-15" }
]
```

| №      | Команда                                                                                                                                                  | Ожидаемый вывод / комментарий                                                                                                             |
|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| **0**  | `help`                                                                                                                                                   | Появится сводка всех команд.                                                                                                              |
| **1**  | `accept-order --order-id ORD001 --user-id U123 --expires 2025-06-30 --weight 5 --price 10.00 --package bag`                                              | `ORDER_ACCEPTED: ORD001`<br>`PACKAGE: bag`<br>`TOTAL_PRICE: 15.00₽` (цена 10₽ + 5₽ наценка за bag, вес < 10 кг)                           |
| **2**  | *(дубликат)*<br>`accept-order --order-id ORD001 --user-id U123 --expires 2025-06-30 --weight 5 --price 10.00 --package bag`                              | `ERROR: ORDER_ALREADY_EXISTS: order already exists`                                                                                       |
| **3**  | *(прошедшая дата)*<br>`accept-order --order-id ORD002 --user-id U123 --expires 2020-01-01 --weight 2 --price 5.00`                                       | `ERROR: VALIDATION_FAILED: validation failed`                                                                                             |
| **4**  | `accept-order --order-id ORD003 --user-id U123 --expires 2025-06-30 --weight 12 --price 20.00 --package box+film`                                        | `ORDER_ACCEPTED: ORD003`<br>`PACKAGE: box+film`<br>`TOTAL_PRICE: 41.00₽` (цена 20₽ + 20₽ за box + 1₽ за film, вес < 30 кг)                |
| **5**  | `accept-order --order-id ORD005 --user-id U124 --expires 2025-06-30 --weight 8 --price 12.00`                                                            | `ORDER_ACCEPTED: ORD005`<br>`PACKAGE:` (пусто или none — без упаковки)<br>`TOTAL_PRICE: 12.00₽` (цена без наценки)                        |
| **6**  | `accept-order --order-id ORD006 --user-id U123 --expires 2025-06-30 --weight 15 --price 10.00 --package bag`                                             | `ERROR: WEIGHT_TOO_HEAVY` (для пакета вес 15 кг ≥ 10 кг)                                                                                  |
| **7**  | `accept-order --order-id ORD007 --user-id U123 --expires 2025-06-30 --weight 35 --price 10.00 --package box`                                             | `ERROR: WEIGHT_TOO_HEAVY` (для коробки вес 35 кг ≥ 30 кг)                                                                                 |
| **8**  | `accept-order --order-id ORD008 --user-id U123 --expires 2025-06-30 --weight 10 --price 10.00 --package unknown`                                         | `ERROR: INVALID_PACKAGE` (неизвестный тип упаковки)                                                                                       |
| **9**  | `accept-order --order-id ORD009 --user-id U123 --expires 2025-06-30 --weight 0 --price 10.00 --package bag`                                              | `ERROR: VALIDATION_FAILED` (вес должен быть > 0)                                                                                          |
| **10** | `accept-order --order-id ORD010 --user-id U123 --expires 2025-06-30 --weight 5 --price 0 --package bag`                                                  | `ERROR: VALIDATION_FAILED` (цена должна быть > 0)                                                                                         |
| **11** | `list-orders --user-id U123 --in-pvz`                                                                                                                    | две строки `ORDER: …` с полями: ID, UserID, Status, ExpiresAt, Package, Weight, Price<br> + `TOTAL: 2`                                    |
| **12** | `process-orders --user-id U123 --action issue --order-ids ORD001,ORD003`                                                                                 | `PROCESSED: ORD001`<br>`PROCESSED: ORD003`                                                                                                |
| **13** | `process-orders --user-id U123 --action issue --order-ids ORD001`                                                                                        | `ERROR ORD001: VALIDATION_FAILED` (уже выданы)                                                                                            |
| **14** | *(клиентский возврат < 48 ч)*<br>`process-orders --user-id U123 --action return --order-ids ORD001`                                                      | `PROCESSED: ORD001`                                                                                                                       |
| **15** | `list-returns`                                                                                                                                           | `RETURN: ORD001 U123 <date>` + `PAGE: 1 LIMIT: 20`                                                                                        |
| **16** | Завершите приложение, измените дату вручную в файле orders.json `expires_at` на вчера для заказа с id=ORD004, затем:<br>`return-order --order-id ORD004` | `ORDER_RETURNED: ORD004`                                                                                                                  |
| **17** | `list-returns --page 1 --limit 1`                                                                                                                        | постранично один возврат                                                                                                                  |
| **18** | `order-history`                                                                                                                                          | лента `HISTORY: …` (ACCEPTED → ISSUED → RETURNED …)                                                                                       |
| **19** | `import-orders --file data/import_demo.json`                                                                                                             | `IMPORTED: 2`                                                                                                                             |
| **20** | `list-orders --user-id U999 --page 1 --limit 5`                                                                                                          | увидите ORD200, ORD201                                                                                                                    |
| **21** | `scroll-orders --user-id U999 --limit 1`                                                                                                                 | CLI покажет первую запись + `NEXT: ORD200` <br>введите `next` → вторая запись + `NEXT: ORD201` <br>ещё `next` → приложение завершит цикл. |
